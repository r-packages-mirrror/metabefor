<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Explode a vector to values — explode_vector_to_values • metabefor</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Explode a vector to values — explode_vector_to_values" />
<meta property="og:description" content="This function takes a studies object (as produced
by rxs_parseExtractionScripts()) and processes all study
trees, looking for the values stored in the entity with the specified
identifier (this cannot be a clustering entity or a clustered entity;
see the definitions at
https://r-packages.gitlab.io/metabefor/articles/definitions.html),
compiling a list of all occurring values, and then adds new entities
for each occurring value, with new values (by default, 0 and 1)
indicating whether that value occurred in the original vector for a
given entity." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">metabefor</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/definitions.html">Definitions</a>
    </li>
    <li>
      <a href="../articles/example-metabefor-rmd-file.html">Example metabefor Rmd file</a>
    </li>
    <li>
      <a href="../articles/r-extraction-scripts.html">R Extraction Scripts (Rxs)</a>
    </li>
    <li>
      <a href="../articles/tutorial-scoping-review.html">Tutorial: Doing a Scoping Review with metabefor</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Explode a vector to values</h1>
    
    <div class="hidden name"><code>explode_vector_to_values.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function takes a <code>studies</code> object (as produced
by <code><a href='rxs_parseExtractionScripts.html'>rxs_parseExtractionScripts()</a></code>) and processes all study
trees, looking for the values stored in the entity with the specified
identifier (this cannot be a clustering entity or a clustered entity;
see the definitions at
<a href='https://r-packages.gitlab.io/metabefor/articles/definitions.html'>https://r-packages.gitlab.io/metabefor/articles/definitions.html</a>),
compiling a list of all occurring values, and then adds new entities
for each occurring value, with new values (by default, <code>0</code> and <code>1</code>)
indicating whether that value occurred in the original vector for a
given entity.</p>
    </div>

    <pre class="usage"><span class='fu'>explode_vector_to_values</span><span class='op'>(</span>
  <span class='va'>studies</span>,
  <span class='va'>entityId</span>,
  prefix <span class='op'>=</span> <span class='cn'>NULL</span>,
  values <span class='op'>=</span> <span class='fl'>0</span><span class='op'>:</span><span class='fl'>1</span>,
  valueDict <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>studies</th>
      <td><p>The <code>studies</code> object (as produced
by <code><a href='rxs_parseExtractionScripts.html'>rxs_parseExtractionScripts()</a></code>).</p></td>
    </tr>
    <tr>
      <th>entityId</th>
      <td><p>The entity identifier.</p></td>
    </tr>
    <tr>
      <th>prefix</th>
      <td><p>The prefix to use to create the new entity names.</p></td>
    </tr>
    <tr>
      <th>values</th>
      <td><p>The values to store to represent, respectively, that a value
did not or did occur in the original vector.</p></td>
    </tr>
    <tr>
      <th>valueDict</th>
      <td><p>Optionally, a dictionary that will be used to convert
values to entity identifiers (i.e. the bit appended to the <code>prefix</code>). If
nothing is specified, the original values will be sanitized and used.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Invisibly, the studies object. Note that the study trees will be
changed in place given <code>data.tree</code>'s pass-by-reference logic; so you can
discard the result.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>For example, imagine the following situation. We want to process an entity
called <code>exampleVector</code> in three study trees. In the first study tree,
that entity contains the value <code><a href='https://rdrr.io/r/base/c.html'>c("a", "b")</a></code>; in the second study tree, it
contains <code><a href='https://rdrr.io/r/base/c.html'>c("a", "c", "d")</a></code>; and in the third study tree, it doesn't exist.
If we would then run if this function is run with its default arguments,
in all three study trees, four new entities will be added, <code>exampleVector_a</code>,
<code>exampleVector_b</code>, <code>exampleVector_c</code>, and <code>exampleVector_d</code>. For the first
study, the values would be, respectively, <code>1</code>, <code>1</code>, <code>0</code>, and <code>0</code>; for the
second study, they would be <code>1</code>, <code>0</code>, <code>1</code>, and <code>1</code>; and for the third
study, they would all be <code>0</code> (see the example).</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>### Create fake 'studies' object</span>
<span class='va'>studies</span> <span class='op'>&lt;-</span>
  <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>rxsTrees <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>;
<span class='fu'><a href='https://rdrr.io/r/base/class.html'>class</a></span><span class='op'>(</span><span class='va'>studies</span><span class='op'>)</span> <span class='op'>&lt;-</span>
  <span class='st'>"rxs_parsedExtractionScripts"</span>;
  
<span class='co'>### Add three fake studies</span>
<span class='va'>studies</span><span class='op'>$</span><span class='va'>rxsTrees</span> <span class='op'>&lt;-</span>
  <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>study1 <span class='op'>=</span> <span class='fu'>data.tree</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/data.tree/man/Node.html'>Node</a></span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span><span class='st'>"study"</span><span class='op'>)</span>,
       study2 <span class='op'>=</span> <span class='fu'>data.tree</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/data.tree/man/Node.html'>Node</a></span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span><span class='st'>"study"</span><span class='op'>)</span>,
       study3 <span class='op'>=</span> <span class='fu'>data.tree</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/data.tree/man/Node.html'>Node</a></span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span><span class='st'>"study"</span><span class='op'>)</span><span class='op'>)</span>;

<span class='co'>### Add values for an entity with id 'exampleVector'</span>
<span class='va'>studies</span><span class='op'>$</span><span class='va'>rxsTrees</span><span class='op'>$</span><span class='va'>study1</span><span class='op'>$</span><span class='fu'>AddChild</span><span class='op'>(</span>
  <span class='st'>"exampleVector"</span>, value<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"a"</span>, <span class='st'>"b"</span><span class='op'>)</span>
<span class='op'>)</span>;
<span class='va'>studies</span><span class='op'>$</span><span class='va'>rxsTrees</span><span class='op'>$</span><span class='va'>study2</span><span class='op'>$</span><span class='fu'>AddChild</span><span class='op'>(</span>
  <span class='st'>"exampleVector"</span>, value<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"a"</span>, <span class='st'>"c"</span>, <span class='st'>"d"</span><span class='op'>)</span>
<span class='op'>)</span>;

<span class='co'>### Explore this vector</span>
<span class='fu'>explode_vector_to_values</span><span class='op'>(</span><span class='va'>studies</span>, <span class='st'>"exampleVector"</span><span class='op'>)</span>;

<span class='co'>### View the results for the first study</span>
<span class='va'>studies</span><span class='op'>$</span><span class='va'>rxsTrees</span><span class='op'>$</span><span class='va'>study1</span><span class='op'>$</span><span class='fu'>Get</span><span class='op'>(</span>
  <span class='st'>"value"</span>,
  filterFun <span class='op'>=</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>node</span><span class='op'>)</span> <span class='op'>{</span>
    <span class='kw'><a href='https://rdrr.io/r/base/function.html'>return</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"exampleVector_"</span>, <span class='va'>node</span><span class='op'>$</span><span class='va'>name</span><span class='op'>)</span><span class='op'>)</span>;
  <span class='op'>}</span>,
  simplify <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span>;
</div><div class='output co'>#&gt; $exampleVector_a
#&gt; [1] 1
#&gt; 
#&gt; $exampleVector_b
#&gt; [1] 1
#&gt; 
#&gt; $exampleVector_c
#&gt; [1] 0
#&gt; 
#&gt; $exampleVector_d
#&gt; [1] 0
#&gt; </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Gjalt-Jorn Peters.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


